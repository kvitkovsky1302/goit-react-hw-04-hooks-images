(this["webpackJsonpgoit-react-hw-04-hooks-images"]=this["webpackJsonpgoit-react-hw-04-hooks-images"]||[]).push([[0],{12:function(e,t,a){e.exports={App:"App_App__16ZpL",notificationText:"App_notificationText__2ImDe"}},13:function(e,t,a){e.exports={ImageGalleryItem:"ImageGalleryItem_ImageGalleryItem__3CvRl",ImageGalleryItemImage:"ImageGalleryItem_ImageGalleryItemImage__2bkPr"}},14:function(e,t,a){e.exports={Overlay:"Modal_Overlay__2AxMb",Modal:"Modal_Modal__2WBTT"}},16:function(e,t,a){e.exports={Searchbar:"Searchbar_Searchbar__DjWH3"}},17:function(e,t,a){e.exports={ImageGallery:"ImageGallery_ImageGallery__DncjJ"}},18:function(e,t,a){e.exports={Button:"Button_Button__3R1xi"}},20:function(e,t,a){e.exports={loader:"Loader_loader__1j2Bs"}},25:function(e,t,a){},49:function(e,t,a){"use strict";a.r(t);var r=a(0),n=a.n(r),o=a(4),c=a.n(o),s=(a(25),a(5)),u=a.n(s),i=a(15),l=a(9),m=a(3),b=a(10),j=a(12),p=a.n(j),h=(a(27),a(16)),f=a.n(h),d=a(7),g=a.n(d),O=a(1);var x=function(e){var t=e.onSubmit,a=e.onChange,r=e.value;return Object(O.jsxs)("form",{className:g.a.SearchForm,onSubmit:t,children:[Object(O.jsx)("button",{type:"submit",className:g.a.SearchFormButton,children:Object(O.jsx)("span",{className:g.a.SearchFormButtonLabel,children:"Search"})}),Object(O.jsx)("input",{className:g.a.SearchFormInput,type:"text",autoComplete:"off",autoFocus:!0,onChange:a,value:r,placeholder:"Search images and photos"})]})};var v=function(e){var t=e.onSubmit,a=Object(r.useState)(""),n=Object(m.a)(a,2),o=n[0],c=n[1];return Object(O.jsx)("header",{className:f.a.Searchbar,children:Object(O.jsx)(x,{onSubmit:function(e){e.preventDefault(),t(o),c(""),""===o&&b.b.error("Please, enter your request!")},onChange:function(e){c(e.currentTarget.value.toLowerCase())},value:o})})},_=a(13),S=a.n(_);var y=function(e){var t=e.webformatURL,a=e.largeImageURL,r=e.onOpenModal;return Object(O.jsx)("li",{className:S.a.ImageGalleryItem,children:Object(O.jsx)("img",{onClick:function(e){r(e.target.dataset.large)},src:t,alt:"",className:S.a.ImageGalleryItemImage,"data-large":a})})},I=a(17),w=a.n(I);var L=function(e){var t=e.imagePage,a=e.onOpenModal;return Object(O.jsx)("ul",{className:w.a.ImageGallery,children:t.map((function(e){var t=e.id,r=e.webformatURL,n=e.largeImageURL;return Object(O.jsx)(y,{webformatURL:r,largeImageURL:n,onOpenModal:a},t)}))})},F=a(18),k=a.n(F);var C=function(e){var t=e.onClick;return Object(O.jsx)("button",{className:k.a.Button,type:"button",onClick:t,children:"Load more"})},B=a(19),N=a.n(B),G=a(20),M=a.n(G);var R=function(){return Object(O.jsx)(N.a,{className:M.a.loader,type:"Circles",color:"#3f51b5",height:100,width:100})},U=a(14),T=a.n(U),E=document.querySelector("#modal-root");var A=function(e){var t=e.onClose,a=e.bigImageUrl,n=function e(a){"Escape"===a.code&&(window.removeEventListener("keydown",e),t())};return Object(r.useEffect)((function(){window.addEventListener("keydown",n)})),Object(o.createPortal)(Object(O.jsx)("div",{className:T.a.Overlay,onClick:function(e){e.target===e.currentTarget&&(window.removeEventListener("keydown",n),t())},children:Object(O.jsx)("div",{className:T.a.Modal,children:Object(O.jsx)("img",{src:a,alt:""})})}),E)},P="22470352-c65ac8cc67498f5a0ef8fcd03",q="https://pixabay.com/api";function D(){return(D=Object(l.a)(u.a.mark((function e(t,a){var r,n,o;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r="".concat(q,"/?image_type=photo&orientation=horizontal&q=").concat(t,"&page=").concat(a,"&per_page=12&key=").concat(P),e.next=3,fetch(r);case 3:return n=e.sent,e.next=6,n.json();case 6:return o=e.sent,e.abrupt("return",o);case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var H=function(e,t){return D.apply(this,arguments)};var J=function(){var e=Object(r.useState)(""),t=Object(m.a)(e,2),a=t[0],n=t[1],o=Object(r.useState)([]),c=Object(m.a)(o,2),s=c[0],j=c[1],h=Object(r.useState)(1),f=Object(m.a)(h,2),d=f[0],g=f[1],x=Object(r.useState)(null),_=Object(m.a)(x,2),S=_[0],y=_[1],I=Object(r.useState)(!1),w=Object(m.a)(I,2),F=w[0],k=w[1],B=Object(r.useState)(!1),N=Object(m.a)(B,2),G=N[0],M=N[1],U=Object(r.useState)(""),T=Object(m.a)(U,2),E=T[0],P=T[1],q=function(e){M(!G),P(e)};return Object(r.useEffect)((function(){var e=function(){var e=Object(l.a)(u.a.mark((function e(t,a){var r,n,o,c;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,H(t,a);case 2:r=e.sent,n=r.hits,o=r.total,c=n.map((function(e){return{id:e.id,webformatURL:e.webformatURL,largeImageURL:e.largeImageURL}})),j((function(e){return[].concat(Object(i.a)(e),Object(i.a)(c))})),k(!1),y(o),window.scrollTo({top:document.documentElement.scrollHeight,behavior:"smooth"});case 10:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}();k(!0),e(a,d)}),[a,d]),Object(O.jsxs)("div",{className:p.a.App,children:[Object(O.jsx)(v,{onSubmit:function(e){j([]),n(e)}}),Object(O.jsx)(L,{searchQuery:a,imagePage:s,onOpenModal:q}),F&&Object(O.jsx)(R,{}),S>0&&Object(O.jsx)(C,{onClick:function(){g((function(e){return e+1}))}}),!F&&0===S&&Object(O.jsx)("p",{className:p.a.notificationText,children:"Sorry, we do not have any images for your request"}),G&&Object(O.jsx)(A,{onClose:q,bigImageUrl:E}),Object(O.jsx)(b.a,{autoClose:2e3,position:"top-right",hideProgressBar:!1,newestOnTop:!1,closeOnClick:!0,rtl:!1,pauseOnFocusLoss:!0,draggable:!0,pauseOnHover:!0})]})};c.a.render(Object(O.jsx)(n.a.StrictMode,{children:Object(O.jsx)(J,{})}),document.getElementById("root"))},7:function(e,t,a){e.exports={SearchForm:"SearchForm_SearchForm__2KF2z",SearchFormButton:"SearchForm_SearchFormButton__3cKhM",SearchFormButtonLabel:"SearchForm_SearchFormButtonLabel__2gNSS",SearchFormInput:"SearchForm_SearchFormInput__1rGBp"}}},[[49,1,2]]]);
//# sourceMappingURL=main.33d7ab2d.chunk.js.map